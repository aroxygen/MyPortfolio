    <div id="market" class="section">
      <h2>Pazar</h2>
      <p>Hammaddeleri diÄŸer oyuncularla takas edebileceÄŸiniz alan.</p>
      <label>Verilecek Kaynak:</label>
      <select id="giveResource">
        <option value="wood">Odun</option>
        <option value="clay">Kil</option>
        <option value="iron">Demir</option>
      </select>
      <input type="number" id="giveAmount" placeholder="100" />
      <br />
      <label>AlÄ±nacak Kaynak:</label>
      <select id="takeResource">
        <option value="wood">Odun</option>
        <option value="clay">Kil</option>
        <option value="iron">Demir</option>
      </select>
      <input type="number" id="takeAmount" placeholder="100" />
      <br />
      <button onclick="createTrade()">Takas Teklifi OluÅŸtur</button>
      <p id="marketStatus"></p>
    </div>

    <div id="smith" class="section">
      <h2>Demirci ğŸ”¬</h2>
      <p>Askerlerinizi geliÅŸtirmek ve yeni birlik tÃ¼rleri araÅŸtÄ±rmak iÃ§in kullanÄ±lÄ±r.</p>
      <button onclick="researchUnit('sword')">ğŸ” KÄ±lÄ±Ã§ UstasÄ± AraÅŸtÄ±r (100 Odun + 100 Demir)</button>
      <p id="smithStatus"></p>
    </div>

    <div id="trainUnits" class="section">
      <h2>Birlik Ãœretimi</h2>
      <p>SeÃ§tiÄŸiniz birimi Ã¼retmek iÃ§in gereken kaynaklarÄ± kullanÄ±n:</p>
      <label>Birim TÃ¼rÃ¼:</label>
      <select id="unitType">
        <option value="spear">ğŸª“ MÄ±zrakÃ§Ä±</option>
        <option value="sword">ğŸ›¡ï¸ KÄ±lÄ±Ã§ UstasÄ±</option>
        <option value="axe">âš”ï¸ BaltacÄ±</option>
      </select>
      <label>Adet:</label>
      <input type="number" id="unitAmount" placeholder="10" min="1" style="width: 80px;" />
      <button onclick="trainUnit()">ğŸ‘· Ãœret</button>
      <p id="trainStatus"></p>
    </div>

    <div id="sendAttack" class="section">
      <h2>âš”ï¸ KÃ¶y SaldÄ±rÄ±sÄ±</h2>
      <p>ğŸ¯ Hedef kÃ¶y koordinatlarÄ±nÄ± girin ve birliklerinizi seÃ§erek saldÄ±rÄ± dÃ¼zenleyin:</p>
      <div style="display: flex; flex-wrap: wrap; gap: 10px; align-items: center;">
        <label>ğŸ“ Koordinat:</label>
        <input type="text" id="targetCoords" placeholder="480|490" style="width: 100px;" />
        <label><img src="https://cdn-icons-png.flaticon.com/128/3461/3461833.png" width="20"> MÄ±zrakÃ§Ä±:</label>
        <input type="number" id="sendSpear" value="0" min="0" style="width: 60px;" />
        <label><img src="https://cdn-icons-png.flaticon.com/128/2972/2972381.png" width="20"> KÄ±lÄ±Ã§:</label>
        <input type="number" id="sendSword" value="0" min="0" style="width: 60px;" />
        <label><img src="https://cdn-icons-png.flaticon.com/128/252/252035.png" width="20"> BaltacÄ±:</label>
        <input type="number" id="sendAxe" value="0" min="0" style="width: 60px;" />
        <button onclick="sendAttack()" style="margin-left: 10px; padding: 5px 10px;">ğŸš€ SaldÄ±r</button>
      </div>
      <p id="attackStatus" style="margin-top: 10px; font-weight: bold;" style="margin-top: 10px; font-weight: bold;"></p>
    </div>

    <div id="academy" class="section">
      <h2>Akademi ğŸ“</h2>
      <p>Soylular Ã¼retmek ve yeni kÃ¶yler fethetmek iÃ§in gereklidir.</p>
      <button onclick="trainNoble()">ğŸ‘‘ Soylu EÄŸit (500 Odun + 500 Demir)</button>
      <p id="academyStatus"></p>
    </div>

    <div id="premium" class="section">
      <h2>Premium ğŸ’</h2>
      <p>HesabÄ±nÄ±zÄ± geliÅŸtirmek ve oyun iÃ§i avantajlar satÄ±n almak iÃ§in premium puan kullanÄ±lÄ±r.</p>
      <p>Premium PuanÄ±nÄ±z: <span id="pp">100</span></p>
      <button onclick="usePremium()">âš¡ HÄ±zlÄ± Ä°nÅŸaat (10 PP)</button>
      <p id="premiumStatus"></p>
    </div>
      <div id="multivillage" class="section">
      <h2>Ã‡oklu KÃ¶y YÃ¶netimi</h2>
      <p>Buradan farklÄ± kÃ¶ylerinizi seÃ§ip yÃ¶netebilirsiniz.</p>
      <select onchange="switchVillage(this.value)">
        <option value="1">KÃ¶y 1 (479|488)</option>
        <option value="2">KÃ¶y 2 (480|489)</option>
        <option value="3">KÃ¶y 3 (481|490)</option>
      </select>
      <p id="villageInfo">SeÃ§ilen kÃ¶y bilgileri burada gÃ¶zÃ¼kecek.</p>
    </div>

    <div id="clanForum" class="section">
      <h2>Klan Ä°Ã§i Forum</h2>
      <textarea id="forumPost" placeholder="Klan mesajÄ±nÄ±zÄ± yazÄ±n..." rows="4" cols="50"></textarea><br>
      <button onclick="postToForum()">GÃ¶nder</button>
      <div id="forumMessages"></div>
    </div>

    <div id="worldMap" class="section">
      <h2>ğŸ—ºï¸ DÃ¼nya HaritasÄ±</h2>
      <p>KrallÄ±ÄŸÄ±nÄ±n yayÄ±lmasÄ±nÄ± buradan takip et. AÅŸaÄŸÄ±daki harita kareleri kÃ¶yleri temsil eder.</p>
      <div style="display: grid; grid-template-columns: repeat(5, 80px); gap: 6px;">
        <div onclick="selectTile(0,0)" style="background-image:url('https://cdn-icons-png.flaticon.com/128/254/254638.png'); background-size: cover; width: 80px; height: 80px; cursor: pointer;" title="BoÅŸ arazi"></div>
        <div onclick="selectTile(0,1)" style="background-image:url('https://cdn-icons-png.flaticon.com/128/1532/1532531.png'); background-size: cover; width: 80px; height: 80px; cursor: pointer;" title="Orman"></div>
        <div onclick="selectTile(0,2)" style="background-image:url('https://cdn-icons-png.flaticon.com/128/1046/1046857.png'); background-size: cover; width: 80px; height: 80px; cursor: pointer;" title="Kale"></div>
        <div onclick="selectTile(0,3)" style="background-image:url('https://cdn-icons-png.flaticon.com/128/616/616490.png'); background-size: cover; width: 80px; height: 80px; cursor: pointer;" title="DaÄŸ"></div>
        <div onclick="selectTile(0,4)" style="background-image:url('https://cdn-icons-png.flaticon.com/128/2784/2784456.png'); background-size: cover; width: 80px; height: 80px; cursor: pointer;" title="Tarla"></div>
      </div>
      <p id="tileInfo" style="margin-top: 10px; font-weight: bold;">SeÃ§ili kare bilgisi burada gÃ¶sterilecek.</p>
    </div>

    <div id="battleReports" class="section">
      <h2>SavaÅŸ RaporlarÄ±</h2>
      <ul id="reportList">
        <li>[01.05.2025] YaÄŸma baÅŸarÄ±yla tamamlandÄ±, 93 odun kazanÄ±ldÄ±.</li>
        <li>[01.05.2025] Casus gÃ¶nderildi, kÃ¶y boÅŸ bulundu.</li>
      </ul>
    </div>
      <div id="saveLoad" class="section">
      <h2>Oyun Kaydet / YÃ¼kle</h2>
      <button onclick="saveGame()">Kaydet</button>
      <button onclick="loadGame()">YÃ¼kle</button>
      <p id="saveStatus"></p>
    </div>

    <div id="notifications" class="section">
      <h2>Bildirimler</h2>
      <div id="notices"></div>
      <button onclick="pushNotice('Yeni sefer tamamlandÄ±!')">ğŸ“£ Bildirim Test</button>
    </div>

    <div id="web3" class="section">
      <h2>Web3 GiriÅŸ</h2>
      <p>MetaMask ile cÃ¼zdanÄ±nÄ±zÄ± baÄŸlayarak Web3 Ã¶zelliklerini kullanabilirsiniz.</p>
      <button onclick="connectWallet()">ğŸ” MetaMask ile BaÄŸlan</button>
      <p id="walletInfo">CÃ¼zdan baÄŸlanmadÄ±.</p>
        <div id="landNFT" class="section">
      <h2>Arazi NFT PazarÄ±</h2>
      <p>Haritadaki her kare bir NFT'ye karÅŸÄ±lÄ±k gelir. CÃ¼zdanÄ±nÄ±za baÄŸlÄ± olarak bu arazileri alabilir, satabilir veya kiralayabilirsiniz.</p>
      <p>ğŸ¯ Koordinat: <strong>(479|488)</strong></p>
      <button onclick="mintLandNFT()">Mint Et (0.01 ETH)</button>
      <button onclick="listLandForSale()">SatÄ±ÅŸa Ã‡Ä±kar</button>
      <button onclick="rentLand()">KiralÄ±k GÃ¶nder</button>
      <p id="nftStatus">MetaMask ile baÄŸlantÄ± gereklidir.</p>
    </div>
  </main>

  <script>
    let pp = 100;
    let swordResearched = false;
    let nobles = 0;

    function createTrade() {
      const give = document.getElementById('giveResource').value;
      const take = document.getElementById('takeResource').value;
      const giveAmt = parseInt(document.getElementById('giveAmount').value);
      const takeAmt = parseInt(document.getElementById('takeAmount').value);

      if (window[give] >= giveAmt && give !== take) {
        window[give] -= giveAmt;
        window[take] += takeAmt;
        document.getElementById('marketStatus').innerText = `Takas baÅŸarÄ±lÄ±: ${giveAmt} ${give} â†’ ${takeAmt} ${take}`;
        updateUI();
      } else {
        document.getElementById('marketStatus').innerText = 'Takas baÅŸarÄ±sÄ±z. Yetersiz kaynak veya geÃ§ersiz iÅŸlem.';
      }
    }

    function researchUnit(type) {
      if (type === 'sword' && wood >= 100 && iron >= 100 && !swordResearched) {
        wood -= 100;
        iron -= 100;
        swordResearched = true;
        document.getElementById('smithStatus').innerText = 'KÄ±lÄ±Ã§ ustasÄ± baÅŸarÄ±yla araÅŸtÄ±rÄ±ldÄ±!';
        updateUI();
      } else {
        document.getElementById('smithStatus').innerText = 'AraÅŸtÄ±rma baÅŸarÄ±sÄ±z veya zaten araÅŸtÄ±rÄ±ldÄ±.';
      }
    }

    function trainNoble() {
      if (wood >= 500 && iron >= 500) {
        wood -= 500;
        iron -= 500;
        nobles++;
        document.getElementById('academyStatus').innerText = `1 Soylu eÄŸitildi. Toplam soylu: ${nobles}`;
        updateUI();
      } else {
        document.getElementById('academyStatus').innerText = 'Yetersiz kaynak!';
      }
    }

    function usePremium() {
      if (pp >= 10) {
        pp -= 10;
        wood += 200;
        clay += 200;
        iron += 200;
        document.getElementById('premiumStatus').innerText = 'HÄ±zlÄ± inÅŸaat aktif! Kaynaklar arttÄ±rÄ±ldÄ±.';
        updateUI();
      } else {
        document.getElementById('premiumStatus').innerText = 'Yetersiz Premium PuanÄ±!';
      }
    }
      function switchVillage(id) {
      document.getElementById('villageInfo').innerText = `KÃ¶y ${id} yÃ¶netimi aktif.`;
    }

    function postToForum() {
      const msg = document.getElementById('forumPost').value;
      if (msg.trim()) {
        const div = document.getElementById('forumMessages');
        const p = document.createElement('p');
        p.textContent = `ğŸ“£ ${msg}`;
        div.prepend(p);
        document.getElementById('forumPost').value = '';
      }
    } 
      function saveGame() {
      const state = {
        wood, clay, iron, pop, pp, nobles
      };
      localStorage.setItem('crownRealmsSave', JSON.stringify(state));
      document.getElementById('saveStatus').innerText = 'Oyun baÅŸarÄ±yla kaydedildi!';
    }

    function loadGame() {
      const data = localStorage.getItem('crownRealmsSave');
      if (data) {
        const state = JSON.parse(data);
        wood = state.wood;
        clay = state.clay;
        iron = state.iron;
        pop = state.pop;
        pp = state.pp;
        nobles = state.nobles;
        updateUI();
        document.getElementById('saveStatus').innerText = 'KayÄ±t yÃ¼klendi!';
      } else {
        document.getElementById('saveStatus').innerText = 'KayÄ±t bulunamadÄ±!';
      }
    }

    function pushNotice(text) {
      const div = document.createElement('div');
      div.textContent = 'ğŸ”” ' + text;
      div.style.padding = '10px';
      div.style.margin = '5px';
      div.style.backgroundColor = '#333';
      div.style.borderLeft = '5px solid gold';
      document.getElementById('notices').prepend(div);
    }

    async function connectWallet() {
      if (typeof window.ethereum !== 'undefined') {
        try {
          const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
          const wallet = accounts[0];
          document.getElementById('walletInfo').innerText = 'BaÄŸlÄ± cÃ¼zdan: ' + wallet;
        } catch (err) {
          document.getElementById('walletInfo').innerText = 'BaÄŸlantÄ± reddedildi.';
        }
      } else {
        document.getElementById('walletInfo').innerText = 'MetaMask yÃ¼klÃ¼ deÄŸil!';
      }
    }
      async function mintLandNFT() {
      if (typeof window.ethereum === 'undefined') {
        document.getElementById('nftStatus').innerText = 'MetaMask gerekli.';
        return;
      }
      const provider = window.ethereum;
      const signer = (await provider.request({ method: 'eth_requestAccounts' }))[0];
      try {
        await provider.request({
          method: 'eth_sendTransaction',
          params: [{
            from: signer,
            to: '0xLANDNFTCONTRACTADDRESS',
            value: '0x2386F26FC10000'
          }]
        });
        document.getElementById('nftStatus').innerText = 'Arazi NFT\'si mint edildi!';
      } catch (err) {
        document.getElementById('nftStatus').innerText = 'Ä°ÅŸlem iptal edildi veya baÅŸarÄ±sÄ±z.';
      }
    }

    function listLandForSale() {
      document.getElementById('nftStatus').innerText = 'Arazi satÄ±ÅŸa Ã§Ä±karÄ±ldÄ±. (Sanal simÃ¼lasyon)';
    }

    function rentLand() {
      document.getElementById('nftStatus').innerText = 'Arazi kiralandÄ±. (Sanal simÃ¼lasyon)';
    }
      function trainUnit() {
      const type = document.getElementById('unitType').value;
      const amount = parseInt(document.getElementById('unitAmount').value);
      const cost = {
        spear: { wood: 50, clay: 30, iron: 10 },
        sword: { wood: 30, clay: 30, iron: 40 },
        axe: { wood: 60, clay: 30, iron: 40 }
      };
      const total = {
        wood: cost[type].wood * amount,
        clay: cost[type].clay * amount,
        iron: cost[type].iron * amount
      };
      if (wood >= total.wood && clay >= total.clay && iron >= total.iron) {
        wood -= total.wood;
        clay -= total.clay;
        iron -= total.iron;
        document.getElementById('trainStatus').innerText = `${amount} ${type} Ã¼retildi.`;
        updateUI();
      } else {
        document.getElementById('trainStatus').innerText = 'Yetersiz kaynak!';
      }
    }
  function sendAttack() {
  const coords = document.getElementById('targetCoords').value;
  const spear = parseInt(document.getElementById('sendSpear').value);
  const sword = parseInt(document.getElementById('sendSword').value);
  const axe = parseInt(document.getElementById('sendAxe').value);
  const totalUnits = spear + sword + axe;

  if (!coords.match(/^[0-9]{3}\|[0-9]{3}$/)) {
    document.getElementById('attackStatus').innerText = 'GeÃ§ersiz koordinat!';
    return;
  }
  if (totalUnits <= 0) {
    document.getElementById('attackStatus').innerText = 'Birim seÃ§ilmedi!';
    return;
  }

  const result = Math.random() < 0.6 ? 'baÅŸarÄ±lÄ±' : 'baÅŸarÄ±sÄ±z';
  const loot = result === 'baÅŸarÄ±lÄ±' ? Math.floor(Math.random() * 150) + 50 : 0;
  const report = `[${new Date().toLocaleString()}] ${coords} kÃ¶yÃ¼ne saldÄ±rÄ± ${result}. Ganimet: ${loot} odun.`;
  const li = document.createElement('li');
  li.innerText = report;
  document.getElementById('reportList').prepend(li);
  document.getElementById('attackStatus').innerText = 'Sefer gÃ¶nderildi!';
}
</script>

</body>
</html>
